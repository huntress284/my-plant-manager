extends default

block content


    //#clouds
    //    .cloud.x1
    //    .cloud.x2
    //    .cloud.x3
    //    .cloud.x4
    //    .cloud.x5

    .d-flex.searchBar.my-2.align-items-center
        label.form-label#add(for='mySearch').mx-2 Add Plant
        input#mySearch.form-control.me-2(autocomplete='off' type='search', placeholder='Search', aria-label='Search')
        button.btn.btn-outline-secondary(onclick='searchPlant()') Search!

    h4#total.my-4
    #noneReturned

    button.btn.btn-outline-primary#noAPI(style='display:none;') Add Plant
    ul#demo.my-2
    //#spriteContainer
    hr

    .py-4
        h1 The Greenhouse
        button.btn.btn-outline-secondary.mx-2(onclick= `filter('asc')`) A-Z
        button.btn.btn-outline-secondary.mx-2(onclick= `filter('desc')`) Z-A

    // Modal for API
    #exampleModal.modal.fade(tabindex='-1', aria-labelledby='exampleModalLabel', aria-hidden='true')
        .modal-dialog
            .modal-content
                .modal-header
                    h1#exampleModalLabel.modal-title.fs-5 Modal for API
                    button.btn-close(type='button', data-bs-dismiss='modal', aria-label='Close')
                .modal-body
                    form#form1
                        .mb-3
                            //label.form-label(for='plantId', hidden) Plant ID
                            input#plantId.form-control(hidden, autocomplete='off' type='text', aria-describedby='plantName', placeholder='Plant Name')
                        .mb-3
                            label.form-label(for='plantInput') Plant Name
                            input#plantInput.form-control(autocomplete='off' type='text', placeholder='Plant Name')
                        .mb-3
                            select.form-select#status(aria-label='Select')
                                option(selected='' disabled='') Open
                                option(value='adult') Adult
                                option(value='baby') Baby

                    form#form2(method='POST', action='/', enctype='multipart/form-data')
                        div
                            //label.form-label(for= 'plantAPI') Plant Name
                            input.form-control#plantAPI(hidden, autocomplete='off' type='text', name='picname', value='', readonly)
                        div
                            label Upload profile picture
                            input(type='file', name='profile-file', required='')

                .modal-footer
                    button.btn.btn-secondary(type='button', data-bs-dismiss='modal') Close
                    button.btn.btn-primary(type='button', onclick="addPlant()") Save changes

    // Modal for no API
    #exampleModal1.modal.fade(tabindex='-1', aria-labelledby='exampleModalLabel', aria-hidden='true')
        .modal-dialog
            .modal-content
                .modal-header
                    h1#exampleModalLabel1.modal-title.fs-5 Modal title
                    button.btn-close(type='button', data-bs-dismiss='modal', aria-label='Close')
                .modal-body
                    form#form11
                        .mb-3
                            //label.form-label(for='plantId1') Plant ID
                            input#plantId1.form-control(autocomplete='off' type='text' placeholder='Plant Name' name='picname1' hidden)
                        .mb-3
                            label.form-label(for='plantInput1') Plant Name
                            input#plantInput1.form-control(autocomplete='off' type='text', placeholder='Plant Name')
                        .mb-3
                            select.form-select#status1(aria-label='Select')
                                option(selected='' disabled='') Open
                                option(value='adult') Adult
                                option(value='baby') Baby

                    form#form21(method='POST', action='/', enctype='multipart/form-data')
                        div
                            //label(for= 'replace') name
                            input.form-control#replace(autocomplete='off', type='text', name='picname', value='', hidden)
                        div
                            label Upload profile picture
                            input(type='file', name='profile-file')
                        //div
                        //    input(type='submit', value='Upload')
                .modal-footer
                    button.btn.btn-secondary(type='button', data-bs-dismiss='modal') Close
                    button.btn.btn-primary(type='button', onclick="addNoAPI()") Save changes

    .d-flex.justify-content-center
        .row.row-cols-1.row-cols-md-4.g-4
            each plant of plants

                if plant[4] === 'adult'
                    .col
                        .card
                            #flag(water-last= `${plant[0]}` style='display:none')
                                #alert.alert(water-alert= `${plant[0]}` role='alert')
                                    .d-flex.justify-content-end
                                        button.btn-close(type='button', banner=`${plant[0]}` onclick=`off(this.getAttribute('banner'), 'banner')`, aria-label='Close')

                            img.card-img-top(data-info= `${plant[0]}`, onload=`get_info( this.getAttribute('data-info') ,${plant[1]})` ,src='/static/images/' + plant[2] + '.jpg', alt=plant[2])
                            .card-body
                                h5.card-title
                                    #waterTime(water-time= `${plant[0]}`)
                                    hr
                                    i.fa-solid.fa-leaf= ' ' + `${plant[2]}`

                                //hr
                                .card-text
                                    .lead Last Water&nbsp
                                        i.fa-solid.fa-droplet
                                    p= plant[3]
                                    p#plant-name(style= 'display:none')= plant[2]

                                    .spinner-border.text-secondary#loader(loader= `${plant[0]}` role='status' style='display: none;')
                                        span.visually-hidden Loading...
                                    //button.btn.btn-outline-secondary(spin= `${plant[0]}` onclick= `test_loader(this.getAttribute('spin'))`) test spinner

                                            //| Some placeholder content for the collapse component. This panel is hidden by default but revealed when the user activates the relevant trigger.

                                    //.information#info(info= `${plant[0]}` style='display:none;')
                                    //    button.btn.btn-outline-secondary#close(close=`${plant[0]}` onclick=`off(this.getAttribute('close'))`) Close
                                    //
                                    //    .name Common Name:
                                    //        #commonName(commonName=`${plant[0]}`)
                                    //    .name Scientific Name:
                                    //        #scientific(scientific=`${plant[0]}`)
                                    //    .name Sunlight &nbsp
                                    //        i.fa-solid.fa-sun
                                    //        #sunlight(sunlight=`${plant[0]}`)
                                    //    .name Watering:
                                    //        #watering(watering=`${plant[0]}`)
                                    //    .name Propagation:
                                    //        #propagation(propagation=`${plant[0]}`)
                                hr

                                .d-flex.flex-column
                                    button.btn.btn-outline-secondary.my-1(type='button', data-bs-toggle='collapse', data-bs-target='#' + `${plant[0]}` + 'e', aria-expanded='false', aria-controls='collapseExample')
                                        | See Notes
                                    .collapse(id= `${plant[0]}` + 'e', style='')
                                        .card.card-body
                                            textarea.form-control(data-noteID= `${plant[0]}`)= plant[6]
                                            button.btn.btn-outline-secondary edit
                                            button.btn.btn-outline-secondary(onclick=`add_note(this.getAttribute('data-note'), this.getAttribute('data-hehe'))`, data-note= `${plant[0]}`, data-hehe=`${plant[6]}`) save

                                    button.btn.btn-outline-secondary.my-1(type='button', data-bs-toggle='collapse', data-bs-target= '#' + `${plant[0]}` , aria-expanded='true', aria-controls='collapseExample', fdprocessedid='8jjq6')
                                        | More Info &nbsp;
                                        i.fa-solid.fa-magnifying-glass
                                    .collapse(id= `${plant[0]}` style='')
                                        .card.card-body(plantInformation = `${plant[0]}`)
                                            .information#info(info= `${plant[0]}` style='display:none;')
                                                //button.btn.btn-outline-secondary#close(close=`${plant[0]}` onclick=`off(this.getAttribute('close'))`) Close
                                                .name Common Name:
                                                    #commonName(commonName=`${plant[0]}`)
                                                .name Scientific Name:
                                                    #scientific(scientific=`${plant[0]}`)
                                                .name Sunlight &nbsp
                                                    i.fa-solid.fa-sun
                                                    #sunlight(sunlight=`${plant[0]}`)
                                                .name Watering:
                                                    #watering(watering=`${plant[0]}`)
                                                .name Propagation:
                                                    #propagation(propagation=`${plant[0]}`)

                                    button.btn.btn-outline-secondary.my-1#toWater(data-water= `${plant[0]}` onclick= `water(this.getAttribute('data-water'))`) Water! &nbsp;
                                        i.fa-solid.fa-droplet

                                    .dropdown
                                        a.btn.btn-outline-secondary.dropdown-toggle(href='#', role='button', data-bs-toggle='dropdown', aria-expanded='false')
                                            | More
                                        ul.dropdown-menu
                                            li
                                                a.dropdown-item#graveyard(data-graveyard= `${plant[0]}` href='#' onclick= `graveyard(this.getAttribute('data-graveyard'))`) Move to Graveyard &nbsp
                                                    i.fa-solid.fa-plant-wilt
                                            li
                                                a.dropdown-item#toDelete(href='#', data-uuid= `${plant[0]}` onclick= `removePlant(this.getAttribute('data-uuid'))`) Delete Plant &nbsp
                                                    i.fa-solid.fa-circle-xmark
